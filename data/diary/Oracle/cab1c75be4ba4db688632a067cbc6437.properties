{
	"title":"多表关联修改",
	"updateTime":"2018-04-24 00:20:40",
	"content":"update jgh_node set rootid \u003d \r\n\r\n(select rootid from\r\n\r\n(select a.rootid as rootid,b.id as id from jgh_node a,\r\n\r\n(select t.id as id, t.flag as flag,t.rowid from jgh_node t where flag not in(\u00271\u0027,\u00272\u0027) ) b where a.id\u003d b.flag ) c where c.id \u003d jgh_node.id) \r\n\r\n\r\n\r\nwhere exists (select 1 from\r\n\r\n(select a.rootid as rootid,b.id as id from jgh_node a,\r\n\r\n(select t.id as id, t.flag as flag,t.rowid from jgh_node t where flag not in(\u00271\u0027,\u00272\u0027) ) b where a.id\u003d b.flag ) c where c.id \u003d jgh_node.id) \r\n\r\n\r\n;\r\nupdate jgh_node set rootid \u003d null where jgh_node.flag !\u003d\u00271\u0027 and jgh_node.flag !\u003d\u00272\u0027;  \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nUPDATE JGH_NODE\r\n\r\n   SET INFO_ID \u003d (SELECT INFO_ID\r\n\r\n                   FROM (SELECT A.INFO_ID AS INFO_ID, B.ID AS ID\r\n\r\n                           FROM JGH_NODE A,\r\n\r\n                                (SELECT T.ID AS ID, T.FLAG AS FLAG, T.ROWID\r\n\r\n                                   FROM JGH_NODE T\r\n\r\n                                  WHERE FLAG NOT IN (\u00271\u0027, \u00272\u0027)) B\r\n\r\n                          WHERE A.ID \u003d B.FLAG) C\r\n\r\n                  WHERE C.ID \u003d JGH_NODE.ID)\r\n\r\n WHERE EXISTS (SELECT 1\r\n\r\n          FROM (SELECT A.INFO_ID AS INFO_ID, B.ID AS ID\r\n\r\n                  FROM JGH_NODE A,\r\n\r\n                       (SELECT T.ID AS ID, T.FLAG AS FLAG, T.ROWID\r\n\r\n                          FROM JGH_NODE T\r\n\r\n                         WHERE FLAG NOT IN (\u00271\u0027, \u00272\u0027)) B\r\n\r\n                 WHERE A.ID \u003d B.FLAG) C\r\n         WHERE C.ID \u003d JGH_NODE.ID)",
	"sort":6
}