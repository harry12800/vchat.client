{
	"title":"@echo off",
	"updateTime":"2018-04-24 00:20:35",
	"content":"@echo off   \r\necho \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d   \r\necho  Windows环境下Oracle数据库的自动备份脚本  \r\necho  1. 使用当前日期命名备份文件。  \r\necho  2. 自动删除15天前的备份。  \r\necho \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d  \r\n::以“YYYYMMDD”格式取出当前时间。  \r\necho 时间:%date%\r\nset BACKUPDATE\u003d%date:~0,4%%date:~5,2%%date:~8,2%\r\nset suffix\u003d%date:~0,4%%date:~5,2%%date:~8,2%.dmp\r\nset basePath\u003dG:\\backup\r\nset expCMD\u003dD:\\app\\Yuexin\\product\\11.2.0\\dbhome_1\\BIN\\\r\n\r\n\r\n::myqdp01\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\r\n::设置用户名、密码和要备份的数据库。  \r\nset USER\u003dmyqdp01\r\nset PASSWORD\u003dmyqdp01\r\nset DATABASE\u003d127.0.0.1/orcl\r\n::创建备份目录。  \r\nif not exist \"%basePath%\\data\\%USER%\"       mkdir %basePath%\\data\\%USER% \r\nif not exist \"%basePath%\\log\\%USER%\"        mkdir %basePath%\\log\\%USER%\r\nset DATADIR\u003d%basePath%\\data\\%USER%  \r\nset LOGDIR\u003d%basePath%\\log\\%USER%  \r\n\r\necho USER\u003d%USER%\r\necho suffix\u003d%suffix%\r\necho PASSWORD\u003d%PASSWORD%\r\necho DATABASE\u003d%DATABASE%\r\necho %expCMD%exp %USER%/%PASSWORD%@%DATABASE%  owner\u003d%USER% file\u003d%basePath%\\data\\%USER%\\%USER%_%suffix%  log\u003d%basePath%\\log\\%USER%\\%USER%_%date:~0,4%%date:~5,2%%date:~8,2%.log \r\n%expCMD%exp %USER%/%PASSWORD%@%DATABASE%  owner\u003d%USER% file\u003d%basePath%\\data\\%USER%\\%USER%_%suffix%  log\u003d%basePath%\\log\\%USER%\\%USER%_%date:~0,4%%date:~5,2%%date:~8,2%.log \r\n::删除7天前的备份。  \r\nforfiles /p \"%DATADIR%\" /s /m *.* /d -7 /c \"cmd /c del @path\"  \r\nforfiles /p \"%LOGDIR%\" /s /m *.* /d -7 /c \"cmd /c del @path\"",
	"sort":3
}